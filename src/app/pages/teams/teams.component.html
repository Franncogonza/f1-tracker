<nz-spin [nzSpinning]="loading">

  <!-- Selector de aÃ±o -->
  <div class="year-selector" style="margin-bottom: 24px; display: flex; align-items: center; gap: 12px;">
    <label for="yearSelect" style="margin: 0;">AÃ±o:</label>
    <nz-select
      id="yearSelect"
      [(ngModel)]="selectedYear"
      (ngModelChange)="onYearChange()"
      [nzSize]="'large'"
      style="width: 120px;"
    >
      <nz-option *ngFor="let year of availableYears" [nzValue]="year" [nzLabel]="year"></nz-option>
    </nz-select>
  </div>

  <!-- Grid de equipos -->
  <ng-container *ngIf="!errorMessage">
    <div
      class="team-grid"
      style="
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 24px;
        align-items: start;
      "
    >
      <nz-card
        *ngFor="let team of paginatedTeams"
        [nzTitle]="team.teamName"
        class="team-card"
        [nzBordered]="false"
        [nzHoverable]="true"
        (click)="selectTeam(team)"
        (keydown.enter)="selectTeam(team)"
        style="width: 100%; cursor: pointer;"
        tabindex="0"
      >
        <p><strong>ğŸ‡¦ğŸ‡º Nacionalidad:</strong> {{ team.teamNationality }}</p>
        <p><strong>ğŸš¦ Debut:</strong> {{ team.firstAppeareance }}</p>
        <p><strong>ğŸ† Constructores:</strong> {{ team.constructorsChampionships ?? '0' }}</p>
        <p><strong>ğŸ Pilotos:</strong> {{ team.driversChampionships ?? '0' }}</p>
        <a [href]="team.url" target="_blank" rel="noopener noreferrer">
          ğŸŒ Ver en Wikipedia
        </a>
      </nz-card>
    </div>

    <!-- PaginaciÃ³n -->
    <nz-pagination
      *ngIf="teams.length > itemsPerPage"
      [nzTotal]="teams.length"
      [nzPageSize]="itemsPerPage"
      [(nzPageIndex)]="currentPage"
      (nzPageIndexChange)="currentPage = $event"
      [nzSize]="'small'"
      [nzShowQuickJumper]="true"
      style="margin-top: 24px;"
    ></nz-pagination>
  </ng-container>

  <!-- Alerta -->
  <nz-alert
    *ngIf="!loading && errorMessage"
    [nzType]="'info'"
    [nzMessage]="errorMessage"
    nzShowIcon
    style="margin-top: 24px;"
  ></nz-alert>

</nz-spin>
